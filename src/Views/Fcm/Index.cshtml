@model ToolsWebsite.Models.FcmTestModel
@{
    ViewData["Title"] = "FCM Push Notification Tester";
    ViewData["Description"] = "Free Firebase Cloud Messaging (FCM) push notification tester by Udaiappa Ramachandran. Test FCM notifications instantly with your server key and device token. No registration required.";
}

<div class="alert alert-warning border-2 border-warning mb-4">
    <h5 class="alert-heading"><i class="fas fa-exclamation-triangle"></i> Security Disclaimer</h5>
    <p class="mb-0"><strong>We do not store any information transmitted through this page.</strong> We are not responsible for any unauthorized access or misuse of your credentials or data if compromised due to factors outside of our control. This includes, but is not limited to, phishing attempts, malware infections, or breaches of third-party services where your information may have been shared. Use only test/development credentials and never production keys or sensitive data.</p>
</div>

<div class="row">
    <div class="col-md-8">
        <div class="card">
            <div class="card-header">
                <h1><i class="fas fa-bell"></i> Firebase Cloud Messaging (FCM) Push Notification Tester</h1>
                <p class="mb-0 text-muted">Test FCM push notifications instantly • Free developer tool</p>
            </div>
            <div class="card-body">
                <form asp-action="SendNotification" method="post">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label asp-for="ServerKey" class="form-label"></label>
                                <input asp-for="ServerKey" class="form-control" placeholder="Enter your FCM Server Key" />
                                <span asp-validation-for="ServerKey" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label asp-for="DeviceToken" class="form-label"></label>
                                <input asp-for="DeviceToken" class="form-control" placeholder="Enter device registration token" />
                                <span asp-validation-for="DeviceToken" class="text-danger"></span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label asp-for="Title" class="form-label"></label>
                                <input asp-for="Title" class="form-control" placeholder="Notification title" />
                                <span asp-validation-for="Title" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label asp-for="Body" class="form-label"></label>
                                <input asp-for="Body" class="form-control" placeholder="Notification body message" />
                                <span asp-validation-for="Body" class="text-danger"></span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-3">
                        <label asp-for="ImageUrl" class="form-label"></label>
                        <input asp-for="ImageUrl" class="form-control" placeholder="https://example.com/image.jpg (optional)" />
                        <span asp-validation-for="ImageUrl" class="text-danger"></span>
                    </div>
                    
                    <div class="mb-3">
                        <label asp-for="Data" class="form-label"></label>
                        <textarea asp-for="Data" class="form-control" rows="3" placeholder='{"click_action":"https://udai.io/"} (optional)'></textarea>
                        <span asp-validation-for="Data" class="text-danger"></span>
                        <div class="form-text">Optional JSON data to send with the notification. Include click_action here to open a URL when tapped. Example: {"click_action":"https://udai.io/"}</div>
                    </div>
                    
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-paper-plane"></i> Send FCM Notification
                    </button>
                </form>
            </div>
        </div>
    </div>
    
    <div class="col-md-4">
        <div class="card">
            <div class="card-header">
                <h5><i class="fas fa-info-circle"></i> How to Use FCM Tester</h5>
            </div>
            <div class="card-body">
                <ol>
                    <li><strong>Server Key:</strong> Get this from your Firebase Console → Project Settings → Cloud Messaging</li>
                    <li><strong>Device Token:</strong> Registration token from your app/device</li>
                    <li><strong>Title & Body:</strong> The notification message content</li>
                    <li><strong>Image URL:</strong> Optional image to display in notification</li>
                    <li><strong>Data (JSON):</strong> Additional data for your app. Include <code>click_action</code> to open a URL, e.g. <code>{"click_action":"https://udai.io/"}</code></li>
                </ol>
                
                <div class="alert alert-warning">
                    <small><i class="fas fa-exclamation-triangle"></i> Make sure your server key has the necessary permissions to send notifications.</small>
                </div>
                
                <div class="alert alert-info">
                    <small><i class="fas fa-lightbulb"></i> <strong>Tip:</strong> Your app code should read click_action from the data payload to handle taps.</small>
                </div>
            </div>
        </div>
    </div>
</div>

@if (!string.IsNullOrEmpty(Model.Result))
{
    <div class="row mt-4">
        <div class="col-12">
            <div class="alert @(Model.IsSuccess ? "alert-success" : "alert-danger")">
                <h5><i class="fas fa-@(Model.IsSuccess ? "check-circle" : "times-circle")"></i> FCM Test Result</h5>
                <p class="mb-0">@Model.Result</p>
            </div>
        </div>
    </div>
}

<div class="row mt-4">
    <div class="col-12">
        <div class="card border-info">
            <div class="card-header">
                <h6><i class="fas fa-question-circle"></i> About This FCM Testing Tool</h6>
            </div>
            <div class="card-body">
                <p>This free Firebase Cloud Messaging (FCM) push notification tester helps developers quickly test FCM notifications without writing code.</p>
                <div class="row">
                    <div class="col-md-6">
                        <h6>Perfect for:</h6>
                        <ul class="list-unstyled">
                            <li>• Testing mobile app push notifications</li>
                            <li>• Verifying FCM server key functionality</li>
                            <li>• Testing notification content and formatting</li>
                            <li>• Debugging push notification delivery</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <h6>Features:</h6>
                        <ul class="list-unstyled">
                            <li>• Instant FCM notification testing</li>
                            <li>• No data storage - completely secure</li>
                            <li>• Supports all FCM notification parameters</li>
                            <li>• Free to use - no registration required</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}